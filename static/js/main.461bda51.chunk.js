(this["webpackJsonpfinance-app"]=this["webpackJsonpfinance-app"]||[]).push([[0],{250:function(e,t,n){e.exports=n(637)},260:function(e,t,n){},266:function(e,t,n){},457:function(e,t,n){},637:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(56),c=n.n(o),i=n(76);n(638),n(255),n(258);i.initializeApp({apiKey:"AIzaSyD6NVbBtWaZm5P3j4ZHh1Bqs4TatJlYmS4",authDomain:"finance-app-6cdfc.firebaseapp.com",databaseURL:"https://finance-app-6cdfc.firebaseio.com",projectId:"finance-app-6cdfc",storageBucket:"finance-app-6cdfc.appspot.com",messagingSenderId:"618921567953",appId:"1:618921567953:web:5e0513acafd208704647f0",measurementId:"G-H2X987S04D"}),i.analytics();var u=i.firestore(),l=i,s=(n(260),n(10)),d=n(246),m=n(244),f=function(e){var t=e.Spinner;return function(e){var n=e.classes,o=e.children;return e.isLoading?a.a.createElement("div",{className:n.loader},a.a.createElement(t,null)):a.a.createElement(r.Fragment,null,o)}},p=(n(266),function(){return a.a.createElement("div",{className:"loader"},a.a.createElement("div",{className:"lds-dual-ring"}))}),h=Object(s.d)(Object(m.a)({loader:"\n    min-height: 200px;\n    position: relative;\n  "}))(f({Spinner:p})),g=n(12),y=n(2),E=n(639),b=n(640),v=function(e){var t=e.title,n=e.sumLimit,o=e.costsSumPerMonth,c=e.onDelete,i=e.onEdit,u=Object(r.useMemo)((function(){return{display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",padding:5,fontSize:15}}),[]);return a.a.createElement(y.Card,null,a.a.createElement(y.Card.Body,null,a.a.createElement(y.Card.Title,null,null===t||void 0===t?void 0:t.toUpperCase()),a.a.createElement(y.Card.Text,{text:"muted"},"\u0422\u0440\u0430\u0442\u044b \u0437\u0430 \u043c\u0435\u0441\u044f\u0446: ",o," \u20bd"),n>0&&a.a.createElement(y.Card.Text,{text:"muted"},"\u041b\u0438\u043c\u0438\u0442 \u043d\u0430 \u043c\u0435\u0441\u044f\u0446: ",n," \u20bd")),a.a.createElement(y.Card.Footer,null,a.a.createElement(y.Row,{className:"d-flex justify-content-between"},a.a.createElement(y.Col,{col:"xs"},a.a.createElement(y.Button,{success:!0,mr:1,mt:1,onClick:i},a.a.createElement(E.a,{style:u}),"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")),a.a.createElement(y.Col,{col:"xs"},a.a.createElement(y.Button,{danger:!0,onClick:c,mt:1},a.a.createElement(b.a,{style:Object(g.a)({},u)}),"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))))},S=Object(s.d)()(v),w=function(e){var t=e.categories,n=e.isLoading,o=e.fetchCategories,c=e.deleteCategory,i=e.onEditCategory;return Object(r.useEffect)((function(){o()}),[o]),a.a.createElement(h,{isLoading:n},function(){var e=[];return t.map((function(n,r){if(r%2===0&&(e=[]),e.push(a.a.createElement(S,{key:n.id,title:n.title,sumLimit:n.sum_limit,costsSumPerMonth:n.costsSumPerMonth,onEdit:function(){return i(n.id)},onDelete:function(){return c(n.id)}})),r>0&&r%2!==0||t.length===r+1)return a.a.createElement(y.Card.Deck,{mb:"3",mt:"3",key:r},Object(d.a)(e))}))}())},O=n(13),C=n(7),I=n.n(C),j=n(239),x=n(9),k=n(6),L=n.n(k),T=Symbol("SET_IS_LOADING"),_=function(e,t){var n=t.loadingStatus;return L()(e,{isLoading:{$set:n}})},F=function(e){return{type:T,payload:{loadingStatus:e}}},M=Symbol("SET_CATEGORIES"),D=function(e,t){return L()(e,{categories:{$set:t}})},R=function(e){return{type:M,payload:e}},N=Symbol("SET_ERROR"),A=function(e,t){return L()(e,{error:{$set:t}})},$=function(e){return{type:N,payload:e}},G=function(){return function(){var e=Object(x.a)(I.a.mark((function e(t,n){var r,a,o,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n(),a=r.firebase.auth.uid,t(F(!0)),o=u.collection("costs"),c=[],e.next=7,u.collection("categories").where("userId","==",u.doc("users/".concat(a))).get().then(function(){var e=Object(x.a)(I.a.mark((function e(t){var n,r,i,l,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.docs,r=Object(j.a)(n),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=12;break}return l=i.value,s=0,e.next=9,o.where("categoryId","==",u.doc("categories/".concat(l.id))).where("userId","==",u.doc("users/".concat(a))).get().then((function(e){e.docs.forEach((function(e){return s+=e.data().sum}))}));case 9:c.push(Object(g.a)({id:l.id,costsSumPerMonth:s},l.data()));case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t){return e.apply(this,arguments)}}());case 7:t(R(c)),t($(null)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),t($("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u0435\u0439\u0447\u0430\u0441 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0441\u044f."));case 15:return e.prev=15,t(F(!1)),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,11,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},B=Symbol("SET_IS_LOADING"),P=function(e,t){return L()(e,{isLoading:{$set:t}})},Y=function(e){return{type:B,payload:e}},W=Symbol("SET_TOTAL_SUM"),z=function(e,t){return L()(e,{totalSum:{$set:t}})},H=function(e){return{type:W,payload:e}},U=Symbol("SET_ERROR"),J=function(e,t){return L()(e,{error:{$set:t}})},Z=function(e){return{type:U,payload:e}},q=Symbol("SET_INCOMES_PER_MONTH"),K=function(e,t){return L()(e,{incomesPerMonth:{$set:t}})},V=function(e){return{type:q,payload:e}},X=Symbol("SET_LOSSES_PER_MONTH"),Q=function(e,t){return L()(e,{lossesPerMonth:{$set:t}})},ee=function(e){return{type:X,payload:e}},te=function(){return function(){var e=Object(x.a)(I.a.mark((function e(t,n){var r,a,o,c,i,s,d,m,f,p;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n(),a=r.firebase.auth.uid,t(Y(!0)),o=new Date,e.next=6,u.collection("costs").where("userId","==",u.doc("users/".concat(a))).where("date",">=",l.firestore.Timestamp.fromDate(new Date(o.getFullYear(),o.getMonth(),1))).where("date","<=",l.firestore.Timestamp.fromDate(new Date(o.getFullYear(),o.getMonth(),31))).get();case 6:return c=e.sent,i=c.docs,e.next=10,u.collection("incomes").where("userId","==",u.doc("users/".concat(a))).where("date",">=",l.firestore.Timestamp.fromDate(new Date(o.getFullYear(),o.getMonth(),1))).where("date","<=",l.firestore.Timestamp.fromDate(new Date(o.getFullYear(),o.getMonth(),31))).get();case 10:s=e.sent,d=s.docs,m=i.reduce((function(e,t){return e+t.data().sum}),0),f=d.reduce((function(e,t){return e+t.data().sum}),0),p=f-m,t(ee(m)),t(V(f)),t(H(p)),t(Z(null)),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),console.error(e.t0),t(Z("\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430."));case 25:return e.prev=25,t(Y(!1)),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[0,21,25,28]])})));return function(t,n){return e.apply(this,arguments)}}()},ne=function(e){return function(){var t=Object(x.a)(I.a.mark((function t(n,r){var a,o,c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=r(),o=a.firebase.auth.uid,c=u.batch(),t.next=5,u.collection("costs").where("userId","==",u.doc("users/".concat(o))).where("categoryId","==",u.doc("categories/".concat(e))).get();case 5:return t.sent.forEach((function(e){c.delete(e.ref)})),t.next=9,u.collection("categories").doc(e).delete();case 9:return t.next=11,c.commit();case 11:n(te()),n(G()),n($(null)),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),console.error(t.t0),n($("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"));case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e,n){return t.apply(this,arguments)}}()},re=Symbol("SET_ERROR"),ae=function(e,t){return L()(e,{error:{$set:t}})},oe=function(e){return{type:re,payload:e}},ce=Symbol("SET_ENTITY"),ie=function(e,t){return L()(e,{entity:{$merge:Object(g.a)({},t)}})},ue=function(e){return{type:ce,payload:e}},le={isShowing:!1,isLoadingEntity:!1,isLoadingCosts:!1,error:null,entity:{id:"",title:"",sum_limit:0},costs:[]},se=function(){return function(){var e=Object(x.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(oe(null)),t(ue(le.entity));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},de=Symbol("SET_IS_SHOWING"),me=function(e){return L()(e,{isShowing:{$set:!e.isShowing}})},fe=function(){return{type:de,payload:null}},pe=Symbol("SET_COSTS"),he=function(e,t){return L()(e,{costs:{$set:t}})},ge=function(e){return{type:pe,payload:e}},ye=Symbol("SET_IS_LOADING_COSTS"),Ee=function(e,t){return L()(e,{isLoadingCosts:{$set:t}})},be=function(e){return{type:ye,payload:e}},ve=function(e){return function(){var t=Object(x.a)(I.a.mark((function t(n,r){var a,o,c,i,s,d;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=r(),o=a.firebase.auth.uid,n(be(!0)),c=new Date,t.next=6,u.collection("costs").where("userId","==",u.doc("users/".concat(o))).where("categoryId","==",u.doc("categories/".concat(e))).where("date",">=",l.firestore.Timestamp.fromDate(new Date(c.getFullYear(),c.getMonth(),1))).where("date","<=",l.firestore.Timestamp.fromDate(new Date(c.getFullYear(),c.getMonth(),31))).get();case 6:i=t.sent,s=i.docs,d=s.map((function(e){return Object(g.a)({id:e.id},e.data())})),n(ge(d)),n(oe(null)),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.error(t.t0),n(oe("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u0435\u0439\u0447\u0430\u0441 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0441\u044f."));case 17:return t.prev=17,n(be(!1)),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[0,13,17,20]])})));return function(e,n){return t.apply(this,arguments)}}()},Se=Symbol("SET_IS_LOADING_ENTITY"),we=function(e,t){return L()(e,{isLoadingEntity:{$set:t}})},Oe=function(e){return{type:Se,payload:e}},Ce=function(e){return function(){var t=Object(x.a)(I.a.mark((function t(n,r){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Oe(!0)),t.next=4,u.collection("categories").doc(e).get();case 4:if((a=t.sent).exists){t.next=8;break}return n(oe("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0422\u0430\u043a\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e.")),t.abrupt("return");case 8:n(ue(Object(g.a)({id:a.id,title:a.data().title.capitalize()},a.data()))),n(oe(null)),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0),n(oe("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u0435\u0439\u0447\u0430\u0441 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0441\u044f."));case 16:return t.prev=16,n(Oe(!1)),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,12,16,19]])})));return function(e,n){return t.apply(this,arguments)}}()},Ie=function(e){return function(){var t=Object(x.a)(I.a.mark((function t(n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(fe()),n(se()),t.next=5,n(Ce(e));case 5:return t.next=7,n(ve(e));case 7:n(oe(null)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0),n(oe("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u0443\u0449\u043d\u043d\u043e\u0441\u0442\u0438"));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},je=function(e){return{fetchCategories:function(){return e(G())},deleteCategory:function(t){return e(ne(t))},onEditCategory:function(t){return e(Ie(t))}}},xe=Object(s.d)(Object(O.b)((function(e){var t=e.categories;return{isLoading:t.isLoading,categories:t.categories,error:t.error}}),je))(w),ke=n(240),Le=n(241),Te=n(249),_e=n(245),Fe=function(e){Object(Te.a)(n,e);var t=Object(_e.a)(n);function n(){var e;Object(ke.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).el=document.createElement("div"),e}return Object(Le.a)(n,[{key:"componentDidMount",value:function(){document.body.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){var e=this.props.children;return c.a.createPortal(e,this.el)}}]),n}(r.Component),Me=(n(457),function(e){var t=e.onCancel,n=e.children,r=e.isShowing;return a.a.createElement(a.a.Fragment,null,r&&a.a.createElement(Fe,null,a.a.createElement("div",{className:"modalOverlay",onClick:t}),a.a.createElement("div",{className:"modalWindow"},n)))});Me.defaultProps={isOpen:!1,children:null};var De=Me,Re=function(e){var t=e.isShowing,n=e.categories,o=e.isLoading,c=e.error,i=e.entity,u=i.sum,l=i.categoryId,s=e.init,d=e.setIsShowing,m=e.addCosts,f=e.onChangeEntity;return Object(r.useEffect)((function(){t&&s()}),[t]),a.a.createElement(De,{isShowing:t,onCancel:d},a.a.createElement(h,{isLoading:o},a.a.createElement(y.Card,null,a.a.createElement(y.Card.Body,null,c&&a.a.createElement(y.Alert,{danger:!0},c),a.a.createElement(y.Card.Title,null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0440\u0430\u0442\u0443"),a.a.createElement(y.Form,null,a.a.createElement(y.Form.Group,null,a.a.createElement("label",null,"\u0421\u0443\u043c\u043c\u0430"),a.a.createElement(y.Form.Input,{value:u,type:"number",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443",onChange:function(e){var t=e.target.value;return f({sum:t})}})),n.length>0?a.a.createElement(y.Form.Group,null,a.a.createElement("label",{htmlFor:"exampleControlsInput1"},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),a.a.createElement(y.Form.Select,{value:l,onChange:function(e){var t=e.target.value;return f({categoryId:t})}},a.a.createElement("option",{value:""},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435"),n.map((function(e){return a.a.createElement("option",{key:e.id,value:e.id},e.data().title.capitalize())})))):a.a.createElement(y.Alert,{danger:!0},"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"))),a.a.createElement(y.Card.Footer,null,a.a.createElement(y.Button,{disabled:(null===n||void 0===n?void 0:n.length)<=0,onClick:(null===n||void 0===n?void 0:n.length)&&m,success:!0},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0440\u0430\u0442\u0443")))))},Ne=Symbol("SET_IS_SHOWING"),Ae=function(e){return L()(e,{isShowing:{$set:!e.isShowing}})},$e=function(){return{type:Ne,payload:null}},Ge=Symbol("SET_IS_LOADING"),Be=function(e,t){return L()(e,{isLoading:{$set:t}})},Pe=function(e){return{type:Ge,payload:e}},Ye=Symbol("SET_CATEGORIES"),We=function(e,t){return L()(e,{categories:{$set:t}})},ze=function(e){return{type:Ye,payload:e}},He=Symbol("SET_ERROR"),Ue=function(e,t){return L()(e,{error:{$set:t}})},Je=function(e){return{type:He,payload:e}},Ze=Symbol("SET_ENTITY"),qe=function(e,t){return L()(e,{entity:{$merge:Object(g.a)({},t)}})},Ke=function(e){return{type:Ze,payload:e}},Ve={isShowing:!1,categories:[],isLoading:!0,error:null,entity:{sum:"",categoryId:""}},Xe=function(){return function(){var e=Object(x.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Je(null)),t(Ke(Ve.entity));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Qe=function(){return function(){var e=Object(x.a)(I.a.mark((function e(t,n){var r,a,o,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n(),a=r.firebase.auth.uid,t(Xe()),t(Pe(!0)),e.next=6,u.collection("categories").where("userId","==",u.doc("users/".concat(a))).get();case 6:o=e.sent,c=o.docs,t(ze(c)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),t(Je("\n          \u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.\n          \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443 \u0438\u043b\u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443.\n        "));case 15:return e.prev=15,t(Pe(!1)),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,11,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},et=function(){return function(){var e=Object(x.a)(I.a.mark((function e(t,n){var r,a,o,c,i,s,d,m;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t(Pe(!0)),r=n(),a=r.addCostsModal.entity,o=a.sum,c=a.categoryId,i=r.editCategoryModal,s=i.isShowing,d=i.entity.id,m=r.firebase.auth.uid,(0===+o||+o)&&c){e.next=6;break}return t(Je("\u041d\u0435\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043f\u043e\u043b\u044f")),e.abrupt("return");case 6:return e.next=8,u.collection("costs").doc().set({date:l.firestore.Timestamp.fromDate(new Date),sum:+o,categoryId:u.doc("categories/".concat(c)),userId:u.doc("users/".concat(m))});case 8:t(G()),t(te()),t(Pe(!1)),t($e()),s&&d&&t(ve(d)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0),t(Je("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u0440\u0430\u0442\u044b"));case 19:return e.prev=19,t(Pe(!1)),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,15,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()},tt=function(e){return{setIsShowing:function(){return e($e())},addCosts:function(){return e(et())},init:function(){return e(Qe())},onChangeEntity:function(t){return e(Ke(t))}}},nt=Object(s.d)(Object(O.b)((function(e){var t=e.addCostsModal;return{isShowing:t.isShowing,categories:t.categories,isLoading:t.isLoading,error:t.error,entity:t.entity}}),tt))(Re),rt=function(e){var t=e.isShowing,n=e.isLoading,o=e.entity,c=o.title,i=o.sum_limit,u=e.error,l=e.setIsShowing,s=e.onChangeEntity,d=e.addCategory,m=e.init;return Object(r.useEffect)((function(){t&&m()}),[t,m]),a.a.createElement(De,{isShowing:t,onCancel:l},a.a.createElement(h,{isLoading:n},a.a.createElement(y.Card,null,a.a.createElement(y.Card.Body,null,u&&a.a.createElement(y.Alert,{danger:!0},u),a.a.createElement(y.Card.Title,null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"),a.a.createElement(y.Form,null,a.a.createElement(y.Form.Group,null,a.a.createElement("label",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),a.a.createElement(y.Form.Input,{value:c,type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",onChange:function(e){var t=e.target.value;return s({title:t})}})),a.a.createElement(y.Form.Group,null,a.a.createElement("label",null,"\u041b\u0438\u043c\u0438\u0442 \u0442\u0440\u0430\u0442"),a.a.createElement(y.Form.Input,{value:i,type:"number",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u0438\u043c\u0438\u0442 \u0442\u0440\u0430\u0442",onChange:function(e){var t=e.target.value;return s({sum_limit:t})}})))),a.a.createElement(y.Card.Footer,null,a.a.createElement(y.Button,{onClick:d,success:!0},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e")))))},at=Symbol("SET_IS_SHOWING"),ot=function(e){return L()(e,{isShowing:{$set:!e.isShowing}})},ct=function(){return{type:at,payload:null}},it=Symbol("SET_IS_LOADING"),ut=function(e){return{type:it,payload:e}},lt=Symbol("SET_ERROR"),st=function(e,t){return L()(e,{error:{$set:t}})},dt=function(e){return{type:lt,payload:e}},mt=function(){return function(){var e=Object(x.a)(I.a.mark((function e(t,n){var r,a,o,c,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t(ut(!0)),r=n(),a=r.addCategoryModal.entity,o=r.firebase.auth.uid,c=a.sum_limit,!(!(i=a.title)||i.length<5||0!==c&&!c)){e.next=7;break}return t(dt("\n          \u041d\u0435\u043a\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043f\u043e\u043b\u044f.\n          \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.\n          ")),e.abrupt("return");case 7:return e.next=9,u.collection("categories").doc().set({title:i.toLowerCase(),sum_limit:c,userId:u.doc("users/".concat(o))});case 9:t(G()),t(ut(!1)),t(ct()),t(dt(null)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0),t(dt("\u041d\u0435\u043a\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043f\u043e\u043b\u044f"));case 19:return e.prev=19,t(ut(!1)),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,15,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()},ft=Symbol("SET_ENTITY"),pt=function(e,t){return L()(e,{entity:{$merge:Object(g.a)({},t)}})},ht=function(e){return{type:ft,payload:e}},gt={isShowing:!1,error:null,entity:{title:"",sum_limit:""}},yt=function(){return function(){var e=Object(x.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(dt(null)),t(ht(gt.entity));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Et=function(e){return{setIsShowing:function(){return e(ct())},addCategory:function(t,n){return e(mt(t,n))},onChangeEntity:function(t){return e(ht(t))},init:function(){return e(yt())}}},bt=Object(s.d)(Object(O.b)((function(e){var t=e.addCategoryModal;return{isShowing:t.isShowing,entity:t.entity,error:t.error}}),Et))(rt),vt=function(e){var t=e.uid,n=e.logout,r=e.setIsShowingAddCostsModal,o=e.setIsShowingAddCategoryModal,c=e.setIsShowingAddIncomesModal;return window.setIsShowingAddIncomesModal=c,a.a.createElement(y.Navbar,{expand:"lg",dark:!0,bg:"dark",mb:"3",sticky:"top"},a.a.createElement(y.Navbar.Brand,{href:"#"},"\u0424\u0438\u043d\u0430\u043d\u0441\u044b!!!"),a.a.createElement(y.Navbar.Toggler,{target:"#navbar"}),t&&a.a.createElement(y.Collapse,{navbar:!0,id:"navbar",justifyContent:"end"},a.a.createElement(y.BDiv,{my:"2 lg-0"},a.a.createElement(y.Button,{success:!0,mr:2,mt:2,onClick:o},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"),a.a.createElement(y.Button,{success:!0,mr:2,mt:2,onClick:c},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u0445\u043e\u0434"),a.a.createElement(y.Button,{info:!0,mr:2,mt:2,onClick:r},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0440\u0430\u0442\u0443"),a.a.createElement(y.Button,{info:!0,mr:2,mt:2,onClick:window.setIsShowingAddIncomesModal},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0440\u0430\u0442\u0443"),a.a.createElement(y.Button,{warning:!0,mr:2,mt:2,onClick:n},"\u0412\u044b\u0439\u0442\u0438"))))},St=Symbol("SET_IS_SHOWING"),wt=function(e){return L()(e,{isShowing:{$set:!e.isShowing}})},Ot=function(){return{type:St,payload:null}},Ct=function(){return function(){var e=Object(x.a)(I.a.mark((function e(t,n,r){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.getFirebase,e.prev=1,e.next=4,a().auth().signOut();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n,r){return e.apply(this,arguments)}}()},It=function(e){return{logout:function(){return e(Ct())},setIsShowingAddCostsModal:function(){return e($e())},setIsShowingAddCategoryModal:function(){return e(ct())},setIsShowingAddIncomesModal:function(){return e(Ot())}}},jt=Object(s.d)(Object(O.b)((function(e){return{uid:e.firebase.auth.uid}}),It))(vt),xt=new Intl.NumberFormat("ru-RU",{minimumFractionDigits:0}),kt=function(e){var t=e.lossesPerMonth,n=e.incomesPerMonth,o=e.totalSum,c=e.isLoading,i=e.init,u=e.onEditWallet,l=Object(r.useMemo)((function(){return{display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",padding:5,fontSize:15}}),[]);return Object(r.useEffect)((function(){i()}),[i]),a.a.createElement(h,{isLoading:c},a.a.createElement("h1",null,"\u041a\u043e\u0448\u0435\u043b\u0435\u043a:",a.a.createElement(E.a,{style:Object(g.a)(Object(g.a)({},l),{},{backgroundColor:"#eee",padding:10,marginLeft:5,fontSize:25}),onClick:u})),a.a.createElement("h5",null,"\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430:\xa0",xt.format(o),"\xa0\u20bd"),a.a.createElement("h5",null,"\u0422\u0440\u0430\u0442\u044b \u0437\u0430 \u043c\u0435\u0441\u044f\u0446:\xa0",xt.format(t),"\xa0\u20bd"),a.a.createElement("h5",null,"\u0414\u043e\u0445\u043e\u0434\u044b \u0437\u0430 \u043c\u0435\u0441\u044f\u0446:\xa0",xt.format(n),"\xa0\u20bd"))},Lt=Symbol("SET_IS_SHOWING"),Tt=function(e){return L()(e,{isShowing:{$set:!e.isShowing}})},_t=function(){return{type:Lt,payload:null}},Ft=function(e){return{init:function(){return e(te())},onEditWallet:function(){return e(_t())}}},Mt=Object(s.d)(Object(O.b)((function(e){var t=e.wallet;return{lossesPerMonth:t.lossesPerMonth,incomesPerMonth:t.incomesPerMonth,totalSum:t.totalSum,isLoading:t.isLoading}}),Ft))(kt),Dt=function(e){var t=e.isShowing,n=e.isLoading,o=e.error,c=e.entity.sum,i=e.init,u=e.setIsShowing,l=e.addIncomes,s=e.onChangeEntity;return Object(r.useEffect)((function(){t&&i()}),[t]),a.a.createElement(De,{isShowing:t,onCancel:u},a.a.createElement(h,{isLoading:n},a.a.createElement(y.Card,null,a.a.createElement(y.Card.Body,null,o&&a.a.createElement(y.Alert,{danger:!0},o),a.a.createElement(y.Card.Title,null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u0445\u043e\u0434"),a.a.createElement(y.Form,null,a.a.createElement(y.Form.Group,null,a.a.createElement("label",null,"\u0421\u0443\u043c\u043c\u0430"),a.a.createElement(y.Form.Input,{value:c,type:"number",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443",onChange:function(e){var t=e.target.value;return s({sum:t})}})))),a.a.createElement(y.Card.Footer,null,a.a.createElement(y.Button,{onClick:l,success:!0},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u0445\u043e\u0434")))))},Rt=Symbol("SET_ERROR"),Nt=function(e,t){return L()(e,{error:{$set:t}})},At=function(e){return{type:Rt,payload:e}},$t=Symbol("SET_ENTITY"),Gt=function(e,t){return L()(e,{entity:{$merge:Object(g.a)({},t)}})},Bt=function(e){return{type:$t,payload:e}},Pt={isShowing:!1,isLoading:!0,error:null,entity:{sum:""}},Yt=function(){return function(){var e=Object(x.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(At(null)),t(Bt(Pt.entity));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Wt=Symbol("SET_IS_LOADING"),zt=function(e,t){return L()(e,{isLoading:{$set:t}})},Ht=function(e){return{type:Wt,payload:e}},Ut=function(){return function(){var e=Object(x.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Ht(!1)),t(Yt());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Jt=function(){return function(){var e=Object(x.a)(I.a.mark((function e(t,n){var r,a,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t(Ht(!0)),r=n(),a=r.addIncomesModal.entity.sum,o=r.firebase.auth.uid,+a){e.next=6;break}return t(At("\u041d\u0435\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043f\u043e\u043b\u044f")),e.abrupt("return");case 6:return e.next=8,u.collection("incomes").doc().set({date:l.firestore.Timestamp.fromDate(new Date),sum:+a,userId:u.doc("users/".concat(o))});case 8:t(te()),t(Ht(!1)),t(Ot()),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),t(At("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u0440\u0430\u0442\u044b"));case 17:return e.prev=17,t(Ht(!1)),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,13,17,20]])})));return function(t,n){return e.apply(this,arguments)}}()},Zt=function(e){return{setIsShowing:function(){return e(Ot())},addIncomes:function(){return e(Jt())},init:function(){return e(Ut())},onChangeEntity:function(t){return e(Bt(t))}}},qt=Object(s.d)(Object(O.b)((function(e){var t=e.addIncomesModal;return{isShowing:t.isShowing,isLoading:t.isLoading,error:t.error,entity:t.entity}}),Zt))(Dt),Kt=n(247),Vt=function(e){var t=e.isShowing,n=e.isLoadingEntity,o=e.isLoadingCosts,c=e.entity,i=e.error,u=e.costs,l=e.setIsShowing,s=e.editCategory,d=e.deleteCosts,m=Object(r.useState)(c),f=Object(Kt.a)(m,2),p=f[0],E=f[1];Object(r.useEffect)((function(){E(c)}),[c]);var v=Object(r.useMemo)((function(){return{display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",padding:5,fontSize:15}}),[]),S=Object(r.useCallback)((function(e){E((function(t){return Object(g.a)(Object(g.a)({},t),e)}))}),[]);return a.a.createElement(De,{isShowing:t,onCancel:l},a.a.createElement(r.Fragment,null,a.a.createElement(y.Card,null,a.a.createElement(y.Card.Body,null,i&&a.a.createElement(y.Alert,{danger:!0},i),a.a.createElement(h,{isLoading:n},a.a.createElement(y.Card.Title,null,'\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 "',c.title,'"'),a.a.createElement(y.Form,null,a.a.createElement(y.Form.Group,null,a.a.createElement("label",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),a.a.createElement(y.Form.Input,{value:p.title,type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",onChange:function(e){var t=e.target.value;return S({title:t})}})),a.a.createElement(y.Form.Group,null,a.a.createElement("label",null,"\u041b\u0438\u043c\u0438\u0442 \u0442\u0440\u0430\u0442"),a.a.createElement(y.Form.Input,{value:p.sum_limit,type:"number",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u0438\u043c\u0438\u0442 \u0442\u0440\u0430\u0442",onChange:function(e){var t=e.target.value;return S({sum_limit:t})}})))),a.a.createElement(h,{isLoading:o},u.length>0&&a.a.createElement(y.ListGroup,{style:{overflowY:"scroll",height:250,padding:10}},u.map((function(e){return a.a.createElement(y.ListGroup.Item,{key:e.id,display:"flex",justifyContent:"between",mb:2},a.a.createElement("div",null,a.a.createElement(y.Lead,null,"\u0421\u0443\u043c\u043c\u0430:\xa0",xt.format(e.sum),"\xa0\u20bd"),a.a.createElement(y.Lead,null,"\u0414\u0430\u0442\u0430:\xa0",e.date.toDate().toLocaleDateString("ru-RU"))),a.a.createElement(b.a,{style:Object(g.a)(Object(g.a)({},v),{},{fontSize:30,color:"red"}),onClick:function(){return d(e.id)}}))}))))),a.a.createElement(y.Card.Footer,null,a.a.createElement(y.Button,{onClick:function(){return s(p)},success:!0},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))))},Xt=function(e){return function(){var t=Object(x.a)(I.a.mark((function t(n,r){var a,o;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=r(),o=a.editCategoryModal.entity.id,n(Oe(!0)),t.next=5,u.collection("costs").doc(e).delete();case 5:n(G()),n(te()),n(ve(o)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0),n(oe("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0442\u0440\u0430\u0442\u044b"));case 14:return t.prev=14,n(Oe(!1)),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,10,14,17]])})));return function(e,n){return t.apply(this,arguments)}}()},Qt=function(e){return function(){var t=Object(x.a)(I.a.mark((function t(n,r){var a,o,c,i,l;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=r(),o=a.firebase.auth.uid,n(Oe(!0)),c=e.id,i=e.sum_limit,!(!(l=e.title)&&l.length<5||0!==i&&!i)){t.next=8;break}return console.log(1111),n(oe("\n          \u041d\u0435\u043a\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043f\u043e\u043b\u044f.\n          \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.\n          ")),t.abrupt("return");case 8:return t.next=10,u.collection("categories").doc(c).set({title:l.toLowerCase(),sum_limit:i,userId:u.doc("users/".concat(o))});case 10:n(G()),n(oe(null)),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.error(t.t0),n(oe("\u041d\u0435\u043a\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043f\u043e\u043b\u044f"));case 18:return t.prev=18,n(Oe(!1)),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[0,14,18,21]])})));return function(e,n){return t.apply(this,arguments)}}()},en=function(e){return{setIsShowing:function(){return e(fe())},editCategory:function(t){return e(Qt(t))},deleteCosts:function(t){return e(Xt(t))},init:function(){return e(Ie())}}},tn=Object(s.d)(Object(O.b)((function(e){var t=e.editCategoryModal;return{isShowing:t.isShowing,entity:t.entity,error:t.error,isLoadingEntity:t.isLoadingEntity,isLoadingCosts:t.isLoadingCosts,costs:t.costs}}),en))(Vt),nn=function(e){var t=e.isShowing,n=e.isLoadingIncomes,o=e.error,c=e.incomes,i=e.setIsShowing,u=e.deleteIncomes,l=e.init;Object(r.useEffect)((function(){t&&l()}),[t,l]);var s=Object(r.useMemo)((function(){return{display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",padding:5,fontSize:15}}),[]);return a.a.createElement(De,{isShowing:t,onCancel:i},a.a.createElement(r.Fragment,null,a.a.createElement(y.Card,null,a.a.createElement(y.Card.Body,null,o&&a.a.createElement(y.Alert,{danger:!0},o),a.a.createElement("h4",null,"\u0414\u043e\u0445\u043e\u0434\u044b \u0437\u0430 \u043c\u0435\u0441\u044f\u0446"),a.a.createElement(h,{isLoading:n},c.length>0?a.a.createElement(y.ListGroup,{style:{overflowY:"scroll",height:250,padding:10}},c.map((function(e){return a.a.createElement(y.ListGroup.Item,{key:e.id,display:"flex",justifyContent:"between",mb:2},a.a.createElement("div",null,a.a.createElement(y.Lead,null,"\u0421\u0443\u043c\u043c\u0430:\xa0",xt.format(e.sum),"\xa0\u20bd"),a.a.createElement(y.Lead,null,"\u0414\u0430\u0442\u0430:\xa0",e.date.toDate().toLocaleDateString("ru-RU"))),a.a.createElement(b.a,{style:Object(g.a)(Object(g.a)({},s),{},{fontSize:30,color:"red"}),onClick:function(){return u(e.id)}}))}))):a.a.createElement(y.Lead,null,"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"))))))},rn=Symbol("SET_ERROR"),an=function(e,t){return L()(e,{error:{$set:t}})},on=function(e){return{type:rn,payload:e}},cn=Symbol("SET_INCOMES"),un=function(e,t){return L()(e,{incomes:{$set:t}})},ln=function(e){return{type:cn,payload:e}},sn=Symbol("SET_IS_LOADING_INCOMES"),dn=function(e,t){return L()(e,{isLoadingIncomes:{$set:t}})},mn=function(e){return{type:sn,payload:e}},fn=function(){return function(){var e=Object(x.a)(I.a.mark((function e(t,n){var r,a,o,c,i,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n(),a=r.firebase.auth.uid,t(mn(!0)),o=new Date,e.next=6,u.collection("incomes").where("userId","==",u.doc("users/".concat(a))).where("date",">=",l.firestore.Timestamp.fromDate(new Date(o.getFullYear(),o.getMonth(),1))).where("date","<=",l.firestore.Timestamp.fromDate(new Date(o.getFullYear(),o.getMonth(),31))).get();case 6:c=e.sent,i=c.docs,s=i.map((function(e){return Object(g.a)({id:e.id},e.data())})),t(ln(s)),t(on(null)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),t(on("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u0435\u0439\u0447\u0430\u0441 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0441\u044f."));case 17:return e.prev=17,t(mn(!1)),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,13,17,20]])})));return function(t,n){return e.apply(this,arguments)}}()},pn=function(){return function(){var e=Object(x.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(fn());case 3:t(on(null)),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),t(on("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u0443\u0449\u043d\u043d\u043e\u0441\u0442\u0438"));case 10:return e.prev=10,t(mn(!1)),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,6,10,13]])})));return function(t){return e.apply(this,arguments)}}()},hn=function(e){return function(){var t=Object(x.a)(I.a.mark((function t(n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(mn(!0)),t.next=4,u.collection("incomes").doc(e).delete();case 4:n(G()),n(te()),n(fn()),n(on(null)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0),n(on("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u0445\u043e\u0434\u043e\u0432"));case 14:return t.prev=14,n(mn(!1)),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,10,14,17]])})));return function(e){return t.apply(this,arguments)}}()},gn=function(e){return{setIsShowing:function(){return e(_t())},deleteIncomes:function(t){return e(hn(t))},init:function(){return e(pn())}}},yn=Object(s.d)(Object(O.b)((function(e){var t=e.editWalletModal;return{isShowing:t.isShowing,error:t.error,isLoadingIncomes:t.isLoadingIncomes,incomes:t.incomes}}),gn))(nn),En=n(11),bn=function(){return a.a.createElement(y.Container,null,a.a.createElement("h1",null,"REGISTER"),a.a.createElement(y.Form,null,a.a.createElement(y.Form.Group,null,a.a.createElement("label",null,"Email address"),a.a.createElement(y.Form.Input,{type:"email",placeholder:"Enter email"})),a.a.createElement(y.Form.Group,null,a.a.createElement("label",null,"Password"),a.a.createElement(y.Form.Input,{type:"password",placeholder:"Password"})),a.a.createElement(y.Button,{primary:!0,type:"submit"},"Submit")))},vn=Object(s.d)()(bn),Sn=function(e){var t=e.isLoading,n=e.error,o=e.email,c=e.password,i=e.uid,u=e.login,l=e.onChangeForm,s=Object(r.useCallback)((function(e){e.preventDefault(),u()}),[]);return i?a.a.createElement(En.a,{to:"/"}):a.a.createElement(y.Container,null,a.a.createElement("h1",null,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),n&&a.a.createElement(y.Alert,{danger:!0},n),a.a.createElement(h,{isLoading:t},a.a.createElement(y.Form,{onSubmit:s},a.a.createElement(y.Form.Group,null,a.a.createElement("label",null,"\u041f\u043e\u0447\u0442\u0430"),a.a.createElement(y.Form.Input,{value:o,onChange:function(e){var t=e.target.value;return l({email:t})},type:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443"})),a.a.createElement(y.Form.Group,null,a.a.createElement("label",null,"\u041f\u0430\u0440\u043e\u043b\u044c"),a.a.createElement(y.Form.Input,{value:c,onChange:function(e){var t=e.target.value;return l({password:t})},type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"})),a.a.createElement(y.Button,{primary:!0,type:"submit"},"\u0412\u043e\u0439\u0442\u0438"))))},wn=Symbol("SET_ERROR"),On=function(e,t){return L()(e,{error:{$set:t}})},Cn=function(e){return{type:wn,payload:e}},In=Symbol("SET_IS_LOADING"),jn=function(e,t){return L()(e,{isLoading:{$set:t}})},xn=function(e){return{type:In,payload:e}},kn=function(){return function(){var e=Object(x.a)(I.a.mark((function e(t,n,r){var a,o,c,i,u;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.getFirebase,r.getFirestore,e.prev=1,t(xn(!0)),o=n(),c=o.login.form,i=c.email,u=c.password,e.next=6,a().login({email:i,password:u});case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),t(Cn("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"));case 12:return e.prev=12,t(xn(!1)),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(t,n,r){return e.apply(this,arguments)}}()},Ln=Symbol("SET_FORM"),Tn=function(e,t){return L()(e,{form:{$merge:Object(g.a)({},t)}})},_n=function(e){return{type:Ln,payload:e}},Fn=function(e){return{login:function(){return e(kn())},onChangeForm:function(t){return e(_n(t))}}},Mn=Object(s.d)(Object(O.b)((function(e){var t=e.login,n=t.form,r=n.email,a=n.password;return{isLoading:t.isLoading,error:t.error,email:r,password:a,uid:e.firebase.auth.uid}}),Fn))(Sn),Dn=n(248),Rn=n(29),Nn=function(e){var t=e.children,n=e.auth,r=(e.redirectTo,Object(Dn.a)(e,["children","auth","redirectTo"]));return a.a.createElement(En.b,Object.assign({},r,{render:function(e){var r=e.location;return Object(Rn.isLoaded)(n)&&!Object(Rn.isEmpty)(n)?t:a.a.createElement(En.a,{to:{pathname:"/login",state:{from:r}}})}}))},An=Object(s.d)(Object(O.b)((function(e){return{auth:e.firebase.auth}}),null))(Nn),$n=function(e){var t=e.auth;return a.a.createElement(r.Fragment,null,a.a.createElement(jt,null),Object(Rn.isLoaded)(t)&&a.a.createElement(En.d,null,a.a.createElement(An,{exact:!0,path:"/"},a.a.createElement(nt,null),a.a.createElement(bt,null),a.a.createElement(qt,null),a.a.createElement(tn,null),a.a.createElement(yn,null),a.a.createElement(y.Container,null,a.a.createElement(Mt,null),a.a.createElement(xe,null))),a.a.createElement(En.b,{path:"/register"},a.a.createElement(vn,null)),a.a.createElement(En.b,{path:"/login"},a.a.createElement(Mn,null)),a.a.createElement(En.a,{to:"/login"})))},Gn=Object(s.d)(Object(O.b)((function(e){return{auth:e.firebase.auth}}),null))($n);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Bn=n(242),Pn={categories:[],isLoadingCategories:!0,isLoading:!0},Yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case T:return _(e,r);case N:return A(e,r);case M:return D(e,r);default:return e}},Wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Ne:return Ae(e);case Ge:return Be(e,r);case Ye:return We(e,r);case Ze:return qe(e,r);case He:return Ue(e,r);default:return e}},zn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case at:return ot(e);case ft:return pt(e,r);case lt:return st(e,r);default:return e}},Hn={entity:{totalSum:0,loss:0,income:0},isLoading:!1},Un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case B:return P(e,r);case X:return Q(e,r);case W:return z(e,r);case q:return K(e,r);case U:return J(e,r);default:return e}},Jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case St:return wt(e);case Wt:return zt(e,r);case $t:return Gt(e,r);case Rt:return Nt(e,r);default:return e}},Zn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case de:return me(e);case Se:return we(e,r);case ye:return Ee(e,r);case ce:return ie(e,r);case re:return ae(e,r);case pe:return he(e,r);default:return e}},qn={isShowing:!1,isLoadingIncomes:!1,error:null,incomes:[]},Kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Lt:return Tt(e);case rn:return an(e,r);case cn:return un(e,r);case sn:return dn(e,r);default:return e}},Vn={form:{email:"",password:""},error:null,isLoading:!1},Xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case In:return jn(e,r);case Ln:return Tn(e,r);case wn:return On(e,r);default:return e}},Qn=n(75),er=Object(s.c)({categories:Yn,addCostsModal:Wn,addCategoryModal:zn,addIncomesModal:Jn,wallet:Un,editCategoryModal:Zn,editWalletModal:Kn,login:Xn,firestore:Qn.firestoreReducer,firebase:Rn.firebaseReducer}),tr=Object(s.e)(er,Object(s.d)(Object(s.a)(Bn.a.withExtraArgument({getFirebase:Rn.getFirebase,getFirestore:Qn.getFirestore})))),nr=n(243);String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var rr={attachAuthIsReady:!0,userProfile:"users",useFirestoreForProfile:!0,onAuthStateChanged:function(e){if(e)return console.log(e),a.a.createElement("h1",null,"a")}};c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(O.a,{store:tr},a.a.createElement(Rn.ReactReduxFirebaseProvider,{config:rr,dispatch:tr.dispatch,firebase:l,createFirestoreInstance:Qn.createFirestoreInstance},a.a.createElement(nr.a,null,a.a.createElement(Gn,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[250,1,2]]]);
//# sourceMappingURL=main.461bda51.chunk.js.map